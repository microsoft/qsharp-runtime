##
# Run all build steps.
##
steps:
- template: steps-init.yml


- bash: ./build.sh
  displayName: "Building Q# runtime"
  workingDirectory: $(Runtime.WorkingDirectory)/build


- bash: ./test.sh
  displayName: "Testing Q# runtime"
  workingDirectory: $(Runtime.WorkingDirectory)/build
  condition: and(succeeded(), ne(variables['Skip.Tests'], 'true'))


- bash: ./pack.sh
  displayName: "Pack Q# runtime"
  workingDirectory: $(Runtime.WorkingDirectory)/build


- template: steps-wrap-up.yml