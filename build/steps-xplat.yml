##
# xplat Native Simulator build
##
steps:

- bash: ./bootstrap.sh
  displayName: "Bootstrap Native QuantumSimulator"
  workingDirectory: $(SimulationSrcDir)/Simulation/Native


- task: CMake@1
  displayName: 'CMake  --build build'
  inputs:
    workingDirectory: $(SimulationSrcDir)/Simulation/Native
    cmakeArgs: ' --build build'


- task: CopyFiles@2
  displayName: 'Copy Files to: artifact staging directory'
  inputs:
    SourceFolder: '$(build.sourcesdirectory)'
    Contents: '$(SimulationSrcDir)/Simulation/Native/build/**'
    TargetFolder: '$(build.artifactstagingdirectory)'


- task: PublishBuildArtifacts@1
  displayName: 'Publish Artifact: drop'
  inputs:
    PathtoPublish: '$(build.artifactstagingdirectory)'


